<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Your site description." />
<title>Swagger在线编写</title>
<link rel="stylesheet" href="/components/layui/css/layui.css"
	media="all" />
<link href="/components/font-awesome/css/font-awesome.min.css"
	rel="stylesheet" />
<link href="/css/style.css" rel="stylesheet" />
<link href="/css/interfaceUtil.css" rel="stylesheet" />
</head>
<body>
	<div class="layui-header">
		<ul class="layui-nav">
			<li class="layui-nav-item"><a href="#">首页</a></li>
			<li class="layui-nav-item"><a href="#">JSON文件下载</a></li>
			<li class="layui-nav-item"><a href="#">YAML文件下载</a></li>
		</ul>
	</div>
	<div class="layui-main" style="margin-top: 10px;">
		<div class="layui-container">
			<div class="layui-row">
				<div class="layui-col-md9">
					<div class="layui-collapse" lay-accordion="" id="root">
						<div class="layui-colla-item">
							<h2 class="layui-colla-title">
								<span class="fl"><b>test</b>&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;实例</span>
								<div class="fr input-group">
									<button type="button" class="layui-btn layui-btn-xs layui-btn-normal addTag"
										onclick="addTag(this)"><i class="layui-icon">&#xe654;</i>在后面插入Tag</button>
								</div>
							</h2>
							<div class="layui-colla-content layui-collapse">
								<button type="button"
									class="layui-btn layui-btn-xs addInterface"
									onclick="addInterface(this)"><i class="layui-icon">&#xe654;</i>添加接口</button>
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-md3">
					<menu></menu>
				</div>
			</div>
		</div>
	</div>
	<script src="/components/layui/layui.js" charset="utf-8"></script>
	<script src="/js/global.js"></script>
	<script type="text/javascript" charset="utf-8">
		layui.use([ 'element' ], function() {
			var element = layui.element;
			element.render();
		});
		function addTag(buttonElement) {
			layui.use([ 'swagger' ], function() {
				var swagger = layui.swagger;
				swagger.addTag(buttonElement);
			});
		}
		function delTag(buttonElement) {
			layui.use([ 'swagger' ], function() {
				var swagger = layui.swagger;
				swagger.delTag(buttonElement);
			});
		}
		function addInterface(buttonElement) {
			layui.use([ 'swagger' ], function() {
				var swagger = layui.swagger;
				swagger.addInterface(buttonElement);
			});
		}
		function editInterface(method,name){
			layui.use(['jquery'],function(){
				var $ = layui.$;
				var collaItemId="#interface-"+method+"-"+name+"-pane"
				var interfaceBodyClass=" .interface-body";
				var interface_body=$(collaItemId+interfaceBodyClass)[0];
				layui.each($(collaItemId).find("div[isEditor='false']"),function(index,item){
					item.setAttribute('isEditor',true);
				});
				layui.each($(interface_body).find('div[caneditor]'),function(index,item){
					item.setAttribute('contenteditable',true);
				});
			});
			
		}
		function modifiedInterface(method,name){
			layui.use(['jquery'],function(){
				var $ = layui.$;
				var collaItemId="#interface-"+method+"-"+name+"-pane"
				var interfaceBodyClass=" .interface-body";
				var interface_body=$(collaItemId+interfaceBodyClass)[0];
				layui.each($(collaItemId).find("div[isEditor='true']"),function(index,item){
					item.setAttribute('isEditor',false);
				});
				layui.each($(interface_body).find('div[caneditor]'),function(index,item){
					item.setAttribute('contenteditable',false);
				});
			});
		}
		function delInterface(buttonElement) {
			layui.use([ 'swagger' ], function() {
				var swagger = layui.swagger;
				swagger.delInterface(buttonElement);
			});
		}
		function addParameter(buttonElement){
			layui.use([ 'swagger','jquery','table' ], function() {
				var swagger = layui.swagger;
				var table = layui.table;
				var $ = layui.$;
				var parametersRow = buttonElement.parentNode.parentNode;
				var parameter = document.createElement("div");
				parameter.setAttribute("class", "layui-col-xs12 layui-col-sm12 layui-col-md12 parameter");
				parametersRow.appendChild(parameter);
				table.render();
			});
		}
	</script>
</body>
</html>
